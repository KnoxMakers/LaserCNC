<?xml version="1.0" encoding="UTF-8"?>

<inkscape-extension xmlns="http://www.inkscape.org/namespace/inkscape/extension">
    <name>Path to Gcode</name>
    <id>org.knoxmakers.filter.kmlaser</id>
	<dependency type="executable" location="extensions">kmlaser_ptg.py</dependency>
	<dependency type="executable" location="extensions">inkex.py</dependency>
	<param name='active-tab' type="notebook">

		<page name='laser-values' _gui-text='Laser Options'>
			<param name='preset-settings' type='enum' _gui-text="Preset Settings:">
				<_item value="custom">Custom Settings</_item>
				<_item value="3mm-wood-engrave-light">3mm Wood - Engrave (Light)</_item>
				<_item value="3mm-wood-engrave-medium">3mm Wood - Engrave (Medium)</_item>
				<_item value="3mm-wood-engrave-heavy">3mm Wood - Engrave (Heavy)</_item>
				<_item value="3mm-wood-cut-clean">3mm Wood - Cut (Clean)</_item>
				<_item value="3mm-wood-cut-fast">3mm Wood - Cut (Fast)</_item>
				<_item value="6mm-wood-engrave-light">6mm Wood - Engrave (Light)</_item>
				<_item value="6mm-wood-engrave-medium">6mm Wood - Engrave (Medium)</_item>
				<_item value="6mm-wood-engrave-heavy">6mm Wood - Engrave (Heavy)</_item>
				<_item value="6mm-wood-cut-clean">6mm Wood - Cut (Clean)</_item>
				<_item value="6mm-wood-cut-fast">6mm Wood - Cut (Fast)</_item>
				<_item value="3mm-acrylic-engrave-light">3mm Acrylic - Engrave (Light)</_item>
				<_item value="3mm-acrylic-engrave-medium">3mm Acrylic - Engrave (Medium)</_item>
				<_item value="3mm-acrylic-engrave-heavy">3mm Acrylic - Engrave (Heavy)</_item>
				<_item value="3mm-acrylic-engrave-cut">3mm Acrylic - Cut</_item>
				<_item value="6mm-acrylic-engrave-light">6mm Acrylic - Engrave (Light)</_item>
				<_item value="6mm-acrylic-engrave-medium">6mm Acrylic - Engrave (Medium)</_item>
				<_item value="6mm-acrylic-engrave-heavy">6mm Acrylic - Engrave (Heavy)</_item>
				<_item value="6mm-acrylic-engrave-cut">6mm Acrylic - Cut</_item>
			</param>
			<param name="options-custom-desc" type="description">
The below custom values are only used when the above dropdown is set to "Custom Settings".  Otherwise preset values are used depending on which option you choose.
			</param>
			<param name='laser-power' type="float" _gui-text="Custom Laser Power (0.128-0.6):" min="0.128" max="0.6" precision="3">0.6</param>
			<param name='feed-rate' type="int" _gui-text="Custom Feed Rate (mm per minute):" min="2" max="2500">400</param>
			<param name='pulse-rate' type="int" _gui-text="Custom Pulse Rate  (pulses per mm):" min="1" max="10000">10000</param>

			<param name="options-sep" type="description">
------------------------------------------------------------------------------------------------
			</param>

			<param name="directory" type="string" _gui-text="Directory:">/home</param>
			<param name="filename" type="string" _gui-text="Filename: ">output.ngc</param>
			<param name="add-numeric-suffix-to-filename" type="boolean" _gui-text="Add numeric suffix to filename">true</param>

		</page>

		<page name='kmlaser-about' _gui-text='Bundle'>
			<param name="bundle-about" type="description">
Path to Gcode 
KMLaser Inkscape Bundle

Based on part of Gcodetools ver. 1.7 at:
http://www.cnc-club.ru/gcodetools

Produces gcode for a LinuxCNC based Laser using the laser configuration at:
https://github.com/bjj/2x_laser

Laser power is controlled by M3/M5 commands and "magic Z".

This extension bundle was hacked together for Knox Makers at:
http://knoxmakers.org

The preset settings are for a specific laser cutter.
To alter these settings for your own use you should change the process_settings() function in kmlaser_ptg.py.
</param>	

		</page>

	</param>	
    <effect>
		<effects-menu>
			<submenu _name="KM Laser"/>
		</effects-menu>
		<object-type>path</object-type>
    </effect>
    <script>
        <command reldir="extensions" interpreter="python">kmlaser_ptg.py</command>
    </script>
</inkscape-extension>
